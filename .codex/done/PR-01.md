---
id: PR-01
track: 0.6-unified
depends_on: []
---

# PR-01: Ecosystem inventory + Canonical Map (richest semantics win)

## Goal
Create a program-wide **Canonical Map** that selects the most complete semantics across all existing versions (0.0.x, 0.4.x, 0.5.x, 1.0.0, etc.) and defines the authoritative 0.6.0 meaning for each concept.

## Scope
All relevant Greentic repos:
- interfaces/contracts (WIT)
- host bindings (wasmtime/guest)
- runner/operator/tooling
- components/providers
- packs/flows schemas

## Deliverables
Create a new directory (in the canonical contract repo, see PR-03) with:
- `contracts/0.6.0/CANONICAL_MAP.md`
- `contracts/0.6.0/RENAMES.md`
- `contracts/0.6.0/COMPAT_MATRIX.md`

### CANONICAL_MAP.md must include
For each domain concept:
- chosen source version(s) and rationale (e.g. component@0.5.0 beats @1.0.0)
- 0.6.0 canonical field set and semantics
- any fields dropped, and why
- compatibility notes (legacy adapters needed? lossy?)

Domains to cover at minimum:
- ctx / tenant-ctx / exec-ctx
- ids (env/tenant/team/user/flow/step/component)
- envelope + call spec separation
- error model
- state-store, secrets-store, http-client, telemetry
- i18n identity/profile linkage
- component descriptor/capabilities/op schemas
- pack/flow manifests and invocation specs

### RENAMES.md must include
A deterministic naming dictionary:
- "node" vs "component" vs "step" resolution
- consistent id names: flow_id, step_id, component_id, op
- payload naming: payload_cbor, metadata_cbor

## Acceptance criteria
- Canonical Map exists, covers all listed domains, and chooses a winner for each.
- Provides explicit list of legacy versions to be deprecated.
- Includes "do not edit record shapes in place" versioning rule.

## Checkpoints
- repo_overview_pre
- map_written
- rename_dict_written
- compat_matrix_written
- repo_overview_post
