// SPDX-License-Identifier: MIT

package greentic:events@1.0.0;

interface emitter-api {
  use greentic:interfaces-types/types@0.1.0.{tenant-ctx};

  /// Canonical host error payload.
  record host-error {
    code: string,
    message: string,
  }

  enum op-ack { ok }

  /// Emits a fire-and-forget event payload.
  emit: func(
    event-type: string,
    payload-json: string,
    ctx: option<tenant-ctx>
  ) -> result<op-ack, host-error>;
}

world emitter {
  import emitter-api;
}
