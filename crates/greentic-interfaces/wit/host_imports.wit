package greentic:interfaces-host@0.1.0;

use greentic:interfaces-types/types@0.1.0;

interface imports {
  use greentic:interfaces-types/types@0.1.0.{span-context, state-key, session-cursor};

  /// Canonical host error.
  record host-error {
    code: string,
    message: string,
  }

  secrets-get: func(name: string) -> result<string, host-error>;
  telemetry-emit: func(span: span-context, fields: list<tuple<string, string>>);
  state-get: func(key: state-key) -> option<string>;
  state-set: func(key: state-key, value: string);
  session-update: func(cursor: session-cursor) -> result<string, host-error>;
}
